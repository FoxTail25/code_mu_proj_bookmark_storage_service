import{c as r,a as n,b as t,P as l,F as m,r as b,w as u,v as p,d as k,u as g,o as d,t as h}from"./index-DbadrZU2.js";import{I as f,a as _,E as w,S as v}from"./SaveText-CdB7a2No.js";const y={class:"row justify-content-center mb-4"},N={class:"list-group list-group-numbered col-12 col-md-10 col-md-10 col-lg-8"},G=["onClick","disabled"],T=["onClick","disabled"],D={key:0,class:"f1"},C=["onClick"],A=["onClick"],M={class:"mt-2 mb-4"},E={class:"row justify-content-center"},U={class:"col-10 mb-2"},V={class:"mt-2"},$={class:"row justify-content-center"},j={class:"col-10 mb-2"},B=["value"],L={type:"button",class:"btn btn-primary d-none","data-bs-toggle":"modal","data-bs-target":"#warningDgModal",ref:"dg_modal"},O={class:"modal fade",id:"warningDgModal",tabindex:"-1","aria-labelledby":"warningDgModalLabel","aria-hidden":"true"},P={class:"modal-dialog modal-dialog-centered"},S={class:"modal-content"},x={class:"modal-body",ref:"dg_modalText"};let i;const F={data(){return{bookmarkArr:[],nameText:"",newGroupName:"",selectedToDelete:"Выберите имя группы"}},methods:{changeOrder(a,e){i.changeGroupOrder(a,e)},checkUp(a){return a==0},checkDown(a){return a==this.bookmarkArr.length-1},editGroupName(a,e){this.bookmarkArr.forEach(s=>{s.id==a&&(s.edit=!0)}),this.nameText=e},saveGroupName(a){this.bookmarkArr.forEach(s=>{s.id==a&&(s.edit=!1)});let e=this._checkText(this.nameText);i.changeGroupName(a,e),this.nameText=""},addNewGroup(){let a=this._checkText(this.newGroupName);i.addNewGroup(a),this.newGroupName=""},deleteGroup(){this.selectedToDelete!="Выберите имя группы"?i.deleteBookmarkGroup(this.selectedToDelete):(this.$refs.dg_modalText.innerHTML="Не выбрана группа для удаления",this.$refs.dg_modal.click())},_checkText(a){return a.trim().length>0?a:"безымянная"}},computed:{sorted(){return this.bookmarkArr.sort((a,e)=>a.section_order-e.section_order),this.bookmarkArr}},created(){i=g(),this.bookmarkArr=i.bookmarkArr}},q=Object.assign(F,{__name:"EditGroupView",setup(a){return(e,s)=>(d(),r(m,null,[n(l,{msg:"Редактирование групп записей"}),n(l,{msg:"(изменение имени и порядка отображения)",num:6,tagName:"P"}),t("div",y,[t("ol",N,[(d(!0),r(m,null,b(e.sorted,o=>(d(),r("li",{key:o.id,class:"list-group-item d-flex align-items-center justify-content-between"},[t("span",null,[t("button",{class:"btn btn-primary p-1 m-1 lh-1",onClick:c=>e.changeOrder(o.id,"up"),disabled:e.checkUp(o.section_order),title:"Переместить группу вверх"},[n(f)],8,G),t("button",{class:"btn btn-primary p-1 m-1 lh-1",onClick:c=>e.changeOrder(o.id,"down"),disabled:e.checkDown(o.section_order),title:"Переместить группу вниз"},[n(_)],8,T)]),o.edit?u((d(),r("input",{key:1,type:"text",class:"form-control f1","onUpdate:modelValue":s[0]||(s[0]=c=>e.nameText=c)},null,512)),[[p,e.nameText]]):(d(),r("span",D,h(o.section_name),1)),o.edit?(d(),r("button",{key:3,class:"btn btn-primary p-1 m-1 lh-1",onClick:c=>e.saveGroupName(o.id),title:"сохранить название группы"},[n(v)],8,A)):(d(),r("button",{key:2,class:"btn btn-primary p-1 m-1 lh-1",onClick:c=>e.editGroupName(o.id,o.section_name),title:"Изменить название группы"},[n(w)],8,C))]))),128))])]),n(l,{msg:"Добавление новой группы"}),n(l,{msg:"(напишите имя и нажмите 	«Добавить новую группу»)",num:6,tagName:"P"}),t("div",M,[t("div",E,[t("div",U,[u(t("input",{type:"text",class:"form-control","onUpdate:modelValue":s[1]||(s[1]=o=>e.newGroupName=o)},null,512),[[p,e.newGroupName]])]),t("button",{class:"btn btn-success col-10 col-sm-6 col-md-4",onClick:s[2]||(s[2]=(...o)=>e.addNewGroup&&e.addNewGroup(...o))},"Добавить новую группу")])]),n(l,{msg:"Удаление группы"}),n(l,{msg:"(выберите группу	из выпадающего списка и нажмите «Удалить группу»)",num:6,tagName:"P"}),t("div",V,[t("div",$,[t("div",j,[u(t("select",{class:"form-select","aria-label":"Default select","onUpdate:modelValue":s[3]||(s[3]=o=>e.selectedToDelete=o)},[s[5]||(s[5]=t("option",null,"Выберите имя группы",-1)),(d(!0),r(m,null,b(e.sorted,o=>(d(),r("option",{value:o.id,key:o.id},h(o.section_name),9,B))),128))],512),[[k,e.selectedToDelete]])]),t("button",{class:"btn btn-danger col-10 col-sm-6 col-md-4 mb-2",onClick:s[4]||(s[4]=(...o)=>e.deleteGroup&&e.deleteGroup(...o))},"Удалить группу")])]),t("button",L," Launch demo modal ",512),t("div",O,[t("div",P,[t("div",S,[s[6]||(s[6]=t("div",{class:"modal-header"},[t("h1",{class:"modal-title fs-5",id:"warningDgModalLabel"},"Не все поля заполнены"),t("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1)),t("div",x," ... ",512),s[7]||(s[7]=t("div",{class:"modal-footer"},[t("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Close")],-1))])])])],64))}});export{q as default};
