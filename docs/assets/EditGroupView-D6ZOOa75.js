import{c as a,a as n,b as r,P as l,F as u,r as p,w as m,v as k,d as h,u as g,o as i,t as b}from"./index-DLz1zuGK.js";import{I as f,a as w,E as N,S as v}from"./SaveText-CbE7_Yfc.js";const G={class:"row justify-content-center mb-4"},_={class:"list-group list-group-numbered col-12 col-md-10 col-md-10 col-lg-8"},y=["onClick","disabled"],T=["onClick","disabled"],D={key:0,class:"f1"},A=["onClick"],C=["onClick"],E={class:"mt-2 mb-4"},U={class:"row justify-content-center"},V={class:"col-10 mb-2"},j={class:"mt-2"},B={class:"row justify-content-center"},O={class:"col-10 mb-2"},P=["value"];let d;const S={data(){return{bookmarkArr:[],nameText:"",newGroupName:"",selectedToDelete:"Выберите имя группы"}},methods:{changeOrder(o,e){d.changeGroupOrder(o,e)},checkUp(o){return o==0},checkDown(o){return o==this.bookmarkArr.length-1},editGroupName(o,e){this.bookmarkArr.forEach(s=>{s.id==o&&(s.edit=!0)}),this.nameText=e},saveGroupName(o){this.bookmarkArr.forEach(s=>{s.id==o&&(s.edit=!1)});let e=this._checkText(this.nameText);d.changeGroupName(o,e),this.nameText=""},addNewGroup(){let o=this._checkText(this.newGroupName);d.addNewGroup(o),this.newGroupName=""},deleteGroup(){this.selectedToDelete!="Выберите имя группы"?d.deleteBookmarkGroup(this.selectedToDelete):console.log("Не выбрана группа")},_checkText(o){return o.trim().length>0?o:"безымянная"}},computed:{sorted(){return this.bookmarkArr.sort((o,e)=>o.section_order-e.section_order),this.bookmarkArr}},created(){d=g(),this.bookmarkArr=d.bookmarkArr}},I=Object.assign(S,{__name:"EditGroupView",setup(o){return(e,s)=>(i(),a(u,null,[n(l,{msg:"Редактирование групп записей"}),n(l,{msg:"(изменение имени и порядка отображения)",num:6,tagName:"P"}),r("div",G,[r("ol",_,[(i(!0),a(u,null,p(e.sorted,t=>(i(),a("li",{key:t.id,class:"list-group-item d-flex align-items-center justify-content-between"},[r("span",null,[r("button",{class:"btn btn-primary p-1 m-1 lh-1",onClick:c=>e.changeOrder(t.id,"up"),disabled:e.checkUp(t.section_order),title:"Переместить группу вверх"},[n(f)],8,y),r("button",{class:"btn btn-primary p-1 m-1 lh-1",onClick:c=>e.changeOrder(t.id,"down"),disabled:e.checkDown(t.section_order),title:"Переместить группу вниз"},[n(w)],8,T)]),t.edit?m((i(),a("input",{key:1,type:"text",class:"form-control f1","onUpdate:modelValue":s[0]||(s[0]=c=>e.nameText=c)},null,512)),[[k,e.nameText]]):(i(),a("span",D,b(t.section_name),1)),t.edit?(i(),a("button",{key:3,class:"btn btn-primary p-1 m-1 lh-1",onClick:c=>e.saveGroupName(t.id),title:"сохранить название группы"},[n(v)],8,C)):(i(),a("button",{key:2,class:"btn btn-primary p-1 m-1 lh-1",onClick:c=>e.editGroupName(t.id,t.section_name),title:"Изменить название группы"},[n(N)],8,A))]))),128))])]),n(l,{msg:"Добавление новой группы"}),n(l,{msg:"(напишите имя и нажмите 	«Добавить новую группу»)",num:6,tagName:"P"}),r("div",E,[r("div",U,[r("div",V,[m(r("input",{type:"text",class:"form-control","onUpdate:modelValue":s[1]||(s[1]=t=>e.newGroupName=t)},null,512),[[k,e.newGroupName]])]),r("button",{class:"btn btn-success col-10 col-sm-6 col-md-4",onClick:s[2]||(s[2]=(...t)=>e.addNewGroup&&e.addNewGroup(...t))},"Добавить новую группу")])]),n(l,{msg:"Удаление группы"}),n(l,{msg:"(выберите группу	из выпадающего списка и нажмите «Удалить группу»)",num:6,tagName:"P"}),r("div",j,[r("div",B,[r("div",O,[m(r("select",{class:"form-select","aria-label":"Default select","onUpdate:modelValue":s[3]||(s[3]=t=>e.selectedToDelete=t)},[s[5]||(s[5]=r("option",null,"Выберите имя группы",-1)),(i(!0),a(u,null,p(e.sorted,t=>(i(),a("option",{value:t.id,key:t.id},b(t.section_name),9,P))),128))],512),[[h,e.selectedToDelete]])]),r("button",{class:"btn btn-danger col-10 col-sm-6 col-md-4 mb-2",onClick:s[4]||(s[4]=(...t)=>e.deleteGroup&&e.deleteGroup(...t))},"Удалить группу")])])],64))}});export{I as default};
